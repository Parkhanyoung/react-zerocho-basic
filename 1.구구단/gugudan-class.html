<!DOCTYPE html>
<html lang="en">
	
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>êµ¬êµ¬ë‹¨(í´ë˜ìŠ¤)</title>
		<script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
		<script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.14.0/babel.min.js"></script>
	</head>

	<body>
		<div id='root'></div>
		<script type='text/babel'>
			class GuGuDan extends React.Component {
				// constructor(props) {
				// super> ë¶€ëª¨ì˜ ìƒì„±ì í˜¸ì¶œ
				// 	super(props);
				// 	this.state = {
				// 		first: Math.ceil(Math.random() * 9),
				// 		second: Math.ceil(Math.random() * 9),
				// 		answer: '',
				// 		result: ''
				// 	};
				// }
				// ë°‘ì— ìˆëŠ” stateì™€ ë™ì¼(constructor, super, this ìƒëµ ê°€ëŠ¥)
				state = {
					first: Math.ceil(Math.random() * 9),
					second: Math.ceil(Math.random() * 9),
					answer: '',
					result: ''
				}
				
				onChange = (e) => {
					this.setState({
						answer: e.target.value
					});
				}
				
				onSubmit = (e) => {
					e.preventDefault();
					if (parseInt(this.state.answer) !== this.state.first * this.state.second) {
						// setState í•¨ìˆ˜ ë‚´ì—ì„œ this.stateë¥¼ í™œìš©í•˜ëŠ” ê²½ìš° ë‹¤ìŒê³¼ ê°™ì´ ë‚´ë¶€ì— í•¨ìˆ˜ë¥¼ ë„£ëŠ”ë‹¤
						// * ë¹„ë™ê¸°ë¥¼ ì‚¬ìš©í•  ë•Œ ì œëŒ€ë¡œ 
						this.setState((prevState) => { 
							return {
							result: `${prevState.answer}ì€ ì •ë‹µì´ ì•„ë‹ˆë‹¤.`,
							answer: ''
							}
					});
					this.input1.focus();
					} else {
						this.setState({
							first: Math.ceil(Math.random() * 9),
							second: Math.ceil(Math.random() * 9),
							result: `${this.state.answer}ì€ ğŸ‰ ì •ë‹µì´ë‹¤!`,
							answer: '',
						});
						this.input1.focus();
						console.log(this.input1)
					}
				}

				setRefInput = (c) => { this.input = c; };

				input1;
				
				render() {
					console.log('ë Œë”ë§')
					return (
						<div>
							<p>
								{this.state.first} x {this.state.second}ëŠ”?
								</p>
								<form onSubmit={this.onSubmit}>
									<input ref={this.setRefInput} type="number" onChange={this.onChange}
									value={this.state.answer} />
									<button type='submit'>ì…ë ¥</button>
									</form>
									<p>
										{this.state.result}
										</p>
										</div>
										);
									}
								}
								</script>
	<script type='text/babel'>
		ReactDOM.render(<div><GuGuDan /></div>, document.querySelector('#root'));
	</script>

</body>

</html>